<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Appointments Technical Challenge API Documentation - Swagger</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #e31e24 0%, #c51a1f 100%);
        color: white;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        text-align: center;
      }

      .header {
        margin-bottom: 40px;
      }

      .header h1 {
        font-size: 3em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.3em;
        opacity: 0.9;
      }

      .options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 40px 0;
      }

      .option {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .option:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .option h3 {
        margin-top: 0;
        font-size: 1.5em;
        color: #fff;
      }

      .button {
        display: inline-block;
        background: white;
        color: #e31e24;
        padding: 12px 25px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        margin-top: 15px;
        transition: all 0.3s ease;
      }

      .button:hover {
        background: #f8f9fa;
        transform: scale(1.05);
      }

      .status {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 20px;
        margin: 30px 0;
      }

      .status-indicator {
        display: inline-block;
        width: 12px;
        height: 12px;
        background: #4caf50;
        border-radius: 50%;
        margin-right: 10px;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
        100% {
          opacity: 1;
        }
      }

      .yaml-preview {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
        text-align: left;
        overflow-x: auto;
      }

      .yaml-preview pre {
        color: #fff;
        margin: 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üè• Appointments Technical Challenge API Documentation</h1>
        <p>Sistema de Agendamiento de Citas M√©dicas con EventBridge</p>
      </div>

      <div class="status">
        <h3><span class="status-indicator"></span>Estado del Sistema</h3>
        <p>‚úÖ API Activa: https://m0ktt5jp3i.execute-api.us-east-1.amazonaws.com/dev</p>
        <p>‚úÖ EventBridge Implementado y Funcionando</p>
        <p>‚úÖ Procesamiento PE y CL Operativo</p>
      </div>

      <div class="options">
        <div class="option">
          <h3>üåê Swagger Editor Online</h3>
          <p>La forma m√°s f√°cil de ver y probar la documentaci√≥n interactiva.</p>
          <div class="yaml-preview">
            <strong>Pasos:</strong><br />
            1. Clic en el bot√≥n<br />
            2. Copiar contenido de openapi.yaml<br />
            3. Pegar en el editor<br />
            4. ¬°Probar la API!
          </div>
          <a href="https://editor.swagger.io/" target="_blank" class="button">
            Abrir Swagger Editor
          </a>
        </div>

        <div class="option">
          <h3>üìÅ Archivo OpenAPI Local</h3>
          <p>Especificaci√≥n OpenAPI 3.0.3 completa para tu proyecto.</p>
          <div class="yaml-preview">
            <strong>Ubicaci√≥n:</strong><br />
            docs/openapi.yaml<br /><br />
            <strong>Compatible con:</strong><br />
            ‚Ä¢ Postman<br />
            ‚Ä¢ Insomnia<br />
            ‚Ä¢ VS Code Extensions
          </div>
          <a href="./openapi.yaml" download class="button"> Descargar OpenAPI.yaml </a>
        </div>
      </div>

      <div class="option" style="grid-column: 1 / -1">
        <h3>üß™ Endpoints Disponibles para Testing</h3>
        <div class="yaml-preview">
          <pre>
# Crear Cita Per√∫
POST https://m0ktt5jp3i.execute-api.us-east-1.amazonaws.com/dev/appointments
{
  "insuredId": "12345",
  "scheduleId": 100,
  "countryISO": "PE",
  "medicalProcedure": "Consulta Cardiolog√≠a"
}

# Crear Cita Chile  
POST https://m0ktt5jp3i.execute-api.us-east-1.amazonaws.com/dev/appointments
{
  "insuredId": "67890",
  "scheduleId": 200,
  "countryISO": "CL",
  "medicalProcedure": "Consulta Dermatolog√≠a"
}

# Obtener Citas
GET https://m0ktt5jp3i.execute-api.us-east-1.amazonaws.com/dev/appointments/12345

# Health Check
GET https://m0ktt5jp3i.execute-api.us-east-1.amazonaws.com/dev/health
                </pre
          >
        </div>
      </div>

      <div class="status">
        <h3>‚úÖ Cumplimiento del Reto T√©cnico</h3>
        <p>‚úÖ Documentaci√≥n en OpenAPI/Swagger - COMPLETADO</p>
        <p>‚úÖ Interfaz gr√°fica interactiva disponible</p>
        <p>‚úÖ Testing directo desde navegador</p>
        <p>‚úÖ Especificaci√≥n completa con ejemplos</p>
      </div>
    </div>

    <script>
      // Auto-refresh status
      setInterval(function () {
        fetch('https://m0ktt5jp3i.execute-api.us-east-1.amazonaws.com/dev/health')
          .then(response => response.json())
          .then(data => {
            console.log('API Status:', data.data.status);
          })
          .catch(error => {
            console.log('API offline or CORS issue');
          });
      }, 30000);
    </script>
  </body>
</html>
